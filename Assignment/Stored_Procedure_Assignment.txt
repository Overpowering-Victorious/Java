create database stored_procedure;
use stored_procedure;

create table employees(
    -> emp_id int not null primary key,
    -> name varchar(50),
    -> department varchar(50),
    -> salary decimal(10,2)
    -> );

insert into employees values (1,'Alice','HR',50000),(2,'Bob','IT',60000),(3,'Charlie','IT',55000),(4,'David','Sales',70000),(5,'Eva','Sales',65000);

create table departments(
    -> dept_id int not null primary key,
    -> name varchar(50),
    -> location varchar(50)
    -> );

insert into departments values (1,'HR','New York'),(2,'IT','San Francisco'),(3,'Sales','Chicago');

create table orders(
    -> order_id int not null primary key,
    -> customer_name varchar(50),
    -> amount decimal(10,2),
    -> order_date date
    -> );

insert into orders values (101,'John Doe',1200.50,'2025-08-01'),(102,'Jane Smith',800.75,'2025-08-02'),(103,'Alice Brown',500.00,'2025-08-03');

1)
mysql> delimiter //
mysql> create procedure GetAllEmployees()
    -> begin
    ->  select * from employees;
    -> end //
Query OK, 0 rows affected (0.01 sec)

mysql> delimiter ;

2)
mysql> delimiter //
mysql> create procedure GetEmployeesByDepartment(in dept varchar(50))
    -> begin
    ->  select * from employees where department=dept;
    -> end//
Query OK, 0 rows affected (0.00 sec)

mysql> delimiter;

3)
mysql> delimiter //
mysql> create procedure AddEmployee(in id int, nm varchar(50), dept varchar(50), sal decimal(10,2))
    -> begin
    ->  insert into employees values (id,nm,dept,sal);
    -> end//
Query OK, 0 rows affected (0.00 sec)

mysql> delimiter ;

4)
mysql> delimiter //
mysql> create procedure UpdateSalary(in id int, sal decimal(10,2))
    -> begin
    ->  update employees set salary=sal where emp_id=id;
    -> end//
Query OK, 0 rows affected (0.00 sec)

mysql> delimiter ;

5)
mysql> delimiter //
mysql> create procedure DeleteEmployeeById(in id int)
    -> begin
    ->  delete from employees where emp_id=id;
    -> end//
Query OK, 0 rows affected (0.00 sec)

mysql> delimiter ;

6)
mysql> delimiter //
mysql> create procedure GetTotalSalaryByDept()
    -> begin
    ->  select department,sum(salary) as total_salary_by_dept from employees group by department;
    -> end//
Query OK, 0 rows affected (0.00 sec)

mysql> delimiter ;

7)
mysql> delimiter //
mysql> create procedure GetOrdersAboveAmount(in am decimal(10,2))
    -> begin
    ->  select * from orders where amount>am;
    -> end//
Query OK, 0 rows affected (0.00 sec)

mysql> delimiter ;

8)
mysql> delimiter //
mysql> create procedure GetDepartmentLocation(in dept varchar(50))
    -> begin
    ->  select name,location from departments where name=dept;
    -> end//
Query OK, 0 rows affected (0.00 sec)

mysql> delimiter ;

9)
mysql> delimiter //
mysql> create procedure GetHighestPaidEmployee()
    -> begin
    ->  select * from employees order by salary desc limit 1;
    -> end//
Query OK, 0 rows affected (0.01 sec)

mysql> delimiter ;

10)
mysql> delimiter //
mysql> create procedure CountEmployeesByDepartment()
    -> begin
    ->  select department,count(emp_id) as emp_count from employees group by department;
    -> end//
Query OK, 0 rows affected (0.01 sec)

mysql> delimiter ;